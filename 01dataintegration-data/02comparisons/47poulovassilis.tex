\phparagraph{Statechart and Hypernode models}

\textbf{Statecharts} \cite{statecharts} represent one of the first applications of nested graphs for complex systems modelling. This choice allowed the representation of multiple abstraction levels at the same time: each node represents a  state or ``configuration'' of the system, and each edge represents a transaction between two different states on a given event. In order to represent different nesting levels, each node may contain other states and edges. As a consequence,  there is no distinction between (simple) states and states containing other states. Given that this model was not designed for data representations, vertices and edges are labelled but cannot contain any property-value association. Therefore, we can say that each vertex can represent both a simple vertex or a logical graph as within the EPGM Database. 

%%Statecharts\index{statechsart} \cite{statecharts} were one of the first models representing nested graphs: they were used for representing complex systems at different abstraction levels, where each node represents a  state or ``configuration'' of the system, and each edge represents a transaction between two different states on a given event. Each vertex and edge is labelled, but  it does not come with attribute-value associations because this model was not designed for data representations. In order to represent different nesting levels, each node can contain other states and edges connecting such states. 
%
%%Moreover, each state is not explicitly remarked as belonging to a so-called ``logical graph'' or not and hence, there is no distinction between (simple) states and states containing other states.

\begin{definition}[Harel's Statechart]
An \textbf{Harel's statechart} \index{graph!statechart} is a labelled multi-graph $(V,E,\ell,\lambda,\nu,\varepsilon)$, where $\ell\colon(V\cup E)\to  \Sigma$ is the vertex and edge labelling function and $\ell\colon E\to V^2$ is the function associating to each vertex its source and destination. $\nu\colon V \to\mathcal{P}(V)$ and $\varepsilon\colon V \to\mathcal{P}(E)$ are the vertex and edge containment function defining which vertices and edges are contained in $V$; in particular, each edge $e$ contained by a state $v$ must link at least one vertex\footnote{Formally, $\forall e\in \varepsilon(v).\exists u\in \nu(v).\exists u'\in V. \lambda(e)=(u,u')\vee \lambda(e)=(u',u)$} within $v$.

In particular, we say that a vertex $v$ is contained at the $n$-th nesting level of a vertex $u$ iff. $v\in \nu^n(u)$: since each state represents a different abstraction level, each vertex cannot contain itself in any abstraction level ($\forall n\geq 1. v\notin \nu(v)$).
Last, since one internal state shall be contained only once because each state has an unique representation, the vertices' vertex content shall be mutually disjoint ($\forall u,v\in V. \nu(u)\cap \nu(v)=\emptyset$).
\end{definition} 

We can say that Figure \ref{fig:firstnested} provide an example for statecharts. This model allows both \textbf{external edges}\index{edge!external} and \textbf{internal edges}\footnote{Since each edge provides a state transition, the \textit{external edge} was originally called called \textit{external transition}. Similar consideration follows for \textit{internal edge}.}: an edge  $e$ will be called \textit{external} if its source (or target) is contained by the target (or source) but neither of them contains $e$\footnote{Formally, $\exists n\geq 1.\lambda(e)=(s,t)\wedge ((s\in\nu^n(t) \wedge e\notin \varepsilon(t))\vee (t\in \nu^n(s)\wedge e\notin \varepsilon(s)))$}; the edge will be called \textit{internal} when the containing vertex (either its source or target) also contains the edge\footnote{Formally, $\exists n\geq 1.\lambda(e)=(s,t)\wedge ((s\in\nu^n(t) \wedge e\in \varepsilon(t))\vee (t\in \nu^n(s)\wedge e\in \varepsilon(s)))$}. Besides of state representation purposes, this model has also been  used for both modelling the evolution of \textit{pathophysiological} states and to describe the clinical treatments to which the patient must undergo. This model also allowed to subdivide each treatment  into smaller and consequential procedures \cite{NestedGlaucoma}.

Statecharts were also adopted as a basis for the subsequent \textbf{hypernode} data model \cite{Poulovassilis1994}. Unlike statecharts, hypernodes allow neither edge labelling nor external and internal edges. As previously stated for statecharts, even this model does not allow to fully represent a property graph, since the attribute-value association must be necessarily expressed as a relation between two different vertices. The fact that the vertex containments cannot overlap make such nested model affected from the same \textit{data replication} representation problem described for semistructured and nested data (Section \vref{sec:semireprproblems}). A first extension of the hypernode model towards data representation is represented by CoGITaNT \cite{GenestS98}, where any type of edge (thus including internal and external ones) are included and data is firstly contained inside a node. Nested graphs can be serialized in both GraphML \cite{graphml} and GXL \cite{GXL} formats. 