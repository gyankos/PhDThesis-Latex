\chapter{GSQL: a Generalized Semistructured Query Language}\label{cha:NGQL}
\epigraph{Language is a process of free creation; its laws and principles are fixed, but the manner in which the principles of generation are used is free and infinitely varied. Even the interpretation and use of words involves a process of free creation.}{--- Noam Chomsky, \textit{Language and Freedom}, (87-8)}


The definition of a new data model requires a new query language: even though several distinct algorithms and query languages have been developed distinctly for integrating either graph and semistructured data, the definition of an algebra (and hence, a set of operations) can detect which is the minimal set of the required operations. In particular, the previous chapter showed that by embedding expressions within the data structure we might achieve structural aggregation as required by the stream data model; this idea is going to be refined in Section \ref{subsec:representingisa}, where we also use GSQL to achieve the final goal. The proposed \textsc{General Semistructured Query Language} at Section \ref{sec:gsqldef} may also use the former chapter's \texttt{script} expressions for providing predicates and functions ($\langg_{\metamodel}\equiv \textup{GSQL}_{\texttt{script}}$), thus  allowing to extend the already-existing data structures with data manipulations.  This thesis also shows that the proposed GSQL operators express all the possible queries over different data models when represented in GSM:  this query language offers the primary building blocks over which we can \begin{mylist}
	\item implement the (semistructured) relational algebra and the nested graph operator (Section \vref{ssec:gsmrelop}), and
	\item define the semantics for traversal query languages (both semistructured and graph, Section \vref{ssec:travgraphop}).
\end{mylist} Section \vref{ssec:gsmrelop} shows that such algebra is able to define two different abstraction operators ($\alpha_1$, $\alpha_2$) that can be used in the last example from the previous chapter for extracting a schema from semistructured data sources. The same section is also going to show that these abstraction operators are a specialisation of the nesting operator which, as introduced in Chapter \ref{cha:dataintegration}, is also able to express the whole class of the $\otimes_\theta$-products and the semistructured grouping $\gamma$.



Last, this chapter is going to show that the combination of GSM and GSQL is going to extend the graph grammar approach as currently implemented in current graph query languages (match + transformation) by also allowing structural aggregation. Such general operator is going to be implemented as one single derived operator in Section \ref{subsec:gggSec}, obtained by the combination of other GSL operators. Moreover, we're also going to show that a refinement of this operator allows the definition of the $\Qoppa$ operator for data transformation over schema alignments.
Moreover, this chapter will also show that traditional traversal languages may be also  expressed via GSQL operators such that GSM are closed over the GSQL expressions. 
